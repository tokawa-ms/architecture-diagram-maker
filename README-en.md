# nodejs-app-template

[日本語](README.md) | English

## Overview

This repository is a **template** for generating a **single-container** Next.js application (TypeScript + Tailwind CSS) that can be hosted on **Azure Container Apps**. It includes a Copilot instruction file at [.github/copilot-instructions.md](.github/copilot-instructions.md) to guide implementation so it satisfies the required architecture (MPA, Azure integration, Docker, README, etc.).

## Intended Use

- Build a **multi-page app (MPA)** with Next.js App Router
- Serve front-end pages and API routes in the **same Node.js process**
- Integrate **Azure services** using the Azure SDK
- Deploy as **one container** to Azure Container Apps

## How to Use This Template with Copilot

1. Clone this repository
2. Ask Copilot to generate the application based on the instructions

Examples:

- “Follow copilot-instructions.md to scaffold Next.js + Tailwind with multiple pages and API routes.”
- “Implement `/api/items` with Azure Cosmos DB access.”
- “Create the Dockerfile and update the README.”

## Expected Structure (Example)

```
src/
  app/           # Next.js pages (App Router)
  app/api/       # API routes
  components/    # UI components
  lib/azure/     # Azure integrations
  lib/config/    # Environment validation
public/
Dockerfile
.dockerignore
.env.template
README.md
README-en.md
```

## Prerequisites

- Node.js 20 LTS or later
- Docker
- (Recommended) Azure CLI for `DefaultAzureCredential` during local development

## Local Development (Generated App)

1. Create the environment file

```
cp .env.template .env
```

2. Install dependencies

```
npm install
```

3. Start the dev server

```
npm run dev
```

## Docker Run (Generated App)

```
docker build -t my-app .
docker run --rm -p 3000:3000 -e PORT=3000 my-app
```

## Azure Container Apps Deployment Overview

Typical flow (details should be documented in the generated app README):

1. Prepare Azure resources (Container Apps environment, logging, required services)
2. Build and push the container image
3. Deploy to Container Apps (Ingress and environment variables)

## Azure Services Typically Used (Examples)

- Azure Container Apps (hosting)
- Azure Cosmos DB (data persistence)
- Azure Storage (optional)
- Azure Key Vault / App Configuration (configuration and secrets)
- Application Insights (logging and monitoring)

## Notes

- This repository is a **template** and does not include the actual app source.
- The actual implementation is generated by Copilot based on the instructions.
