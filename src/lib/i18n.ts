export type LanguageCode = "ja" | "en";

export type MessageKey = keyof typeof messages.ja;

const messages = {
  ja: {
    appName: "Architecture Diagram Maker",
    tagline: "アーキテクチャ図を素早くスケッチして保存する",
    navHome: "ホーム",
    navEditor: "エディター",
    navItems: "アイコン",
    navSettings: "設定",
    navAbout: "このアプリについて",
    heroTitle: "アーキテクチャダイアグラムを簡単に作成",
    heroBody:
      "アイコンパレットから配置し、ボックスやテキスト、矢印で構成した後にJSONとして保存できます。",
    heroAction: "エディターを開く",
    editorTitle: "エディタビュー",
    editorSubtitle:
      "キャンバスをドラッグして要素を配置し、保存・エクスポートできます。",
    panelPaletteTitle: "アイコンパレット",
    panelPaletteSearch: "アイコン検索",
    panelToolsTitle: "作図ツール",
    panelPropertiesTitle: "プロパティ",
    panelLayersTitle: "レイヤー",
    panelStorageTitle: "保存済みデータ",
    panelStorageHint:
      "JSON 形式でローカルストレージに保存します。",
    storageMenuButton: "データ保存/復元",
    modalClose: "閉じる",
    toolBox: "ボックス",
    toolText: "テキスト",
    toolLineSolid: "実線",
    toolLineDashed: "点線",
    toolArrowSolidSingle: "実線-片矢印",
    toolArrowDashedSingle: "点線-片矢印",
    toolArrowSolidDouble: "実線-両矢印",
    toolArrowDashedDouble: "点線-両矢印",
    toolClear: "全削除",
    toolExportMenu: "エクスポート",
    toolExport: "PNG",
    toolExportJson: "JSON",
    toolSave: "保存",
    toolLoad: "読み込み",
    toolCanvasMenu: "キャンバス操作",
    toolBringFront: "最前面",
    toolSendBack: "最背面",
    toolDuplicate: "複製",
    toolDelete: "削除",
    propertyFill: "塗り",
    propertyBorder: "枠線",
    propertyText: "テキスト",
    propertySize: "サイズ",
    propertyWidth: "幅",
    propertyHeight: "高さ",
    propertyOpacity: "透明度",
    propertyStroke: "線色",
    propertyStrokeWidth: "線幅",
    propertyFontSize: "文字サイズ",
    propertyRadius: "角丸",
    propertyArrowStyle: "矢印スタイル",
    defaultDiagramName: "下書き",
    defaultBoxLabel: "サービス",
    defaultTextLabel: "テキスト",
    defaultIconLabel: "アイコン",
    sampleName: "Azure API サンプル",
    sampleApiGateway: "API Gateway",
    sampleApiManagement: "API Management",
    sampleLogicApps: "Logic Apps",
    samplePublishInterfaces: "Publish interfaces",
    propertyName: "名称",
    propertyIconAlt: "アイコン",
    propertyUseIcon: "アイコンを使用",
    propertyUseText: "テキストを使用",
    propertyUseBox: "ボックスを使用",
    canvasEmpty: "キャンバスに要素がありません。",
    storageEmpty: "保存済みのデータがありません。",
    settingsTitle: "設定",
    settingsBody:
      "保存先は現在ブラウザのローカルストレージのみです。",
    aboutTitle: "アプリ概要",
    aboutBody:
      "アーキテクチャ図を素早く作成するための軽量エディターです。",
    itemsTitle: "アイコンカタログ",
    itemsBody:
      "public/icons 配下のSVG/PNGをパレットに表示します（サンプル icons-sample は任意）。",
    footerText: "Microsoft Azure の利用を前提に設計されています。",
    languageLabel: "言語",
    loadSample: "サンプル読み込み",
    storageKeyLabel: "保存キー",
    storageSavedAt: "保存日時",
    storageActionLabel: "操作",
    storageLoad: "読み込み",
    storageOverwrite: "上書き保存",
    storageNew: "新規保存",
    storageDelete: "削除",
    storageImport: "JSON インポート",
    storageExport: "JSON エクスポート",
    storageCopy: "コピー",
    storageCopied: "コピーしました",
    inspectorHint: "要素をクリックして編集してください。",
    paletteHint:
      "public/icons の画像が自動表示されます（サンプルは環境変数で icons-sample を表示可能）。",
    paletteEmpty: "アイコンが見つかりません。",
    imageExportHint: "キャンバスを PNG として保存します。",
    azureHint:
      "将来的に Azure Cosmos DB などへの保存を追加予定です。",
    loadExampleHint: "例として簡易な構成を読み込みます。",
    noSelection: "選択中の要素がありません。",
  },
  en: {
    appName: "Architecture Diagram Maker",
    tagline: "Sketch architectures quickly and save them",
    navHome: "Home",
    navEditor: "Editor",
    navItems: "Icons",
    navSettings: "Settings",
    navAbout: "About",
    heroTitle: "Create architecture diagrams quickly",
    heroBody:
      "Place icons, boxes, text, and arrows, then save the diagram as JSON.",
    heroAction: "Open editor",
    editorTitle: "Editor View",
    editorSubtitle:
      "Drag elements onto the canvas and save or export the result.",
    panelPaletteTitle: "Icon palette",
    panelPaletteSearch: "Search icons",
    panelToolsTitle: "Drawing tools",
    panelPropertiesTitle: "Properties",
    panelLayersTitle: "Layers",
    panelStorageTitle: "Saved data",
    panelStorageHint: "Saved to local storage as JSON.",
    storageMenuButton: "Save/Load",
    modalClose: "Close",
    toolBox: "Box",
    toolText: "Text",
    toolLineSolid: "Solid line",
    toolLineDashed: "Dashed line",
    toolArrowSolidSingle: "Solid single arrow",
    toolArrowDashedSingle: "Dashed single arrow",
    toolArrowSolidDouble: "Solid double arrow",
    toolArrowDashedDouble: "Dashed double arrow",
    toolClear: "Clear",
    toolExportMenu: "Export",
    toolExport: "PNG",
    toolExportJson: "JSON",
    toolSave: "Save",
    toolLoad: "Load",
    toolCanvasMenu: "Canvas",
    toolBringFront: "Bring front",
    toolSendBack: "Send back",
    toolDuplicate: "Duplicate",
    toolDelete: "Delete",
    propertyFill: "Fill",
    propertyBorder: "Border",
    propertyText: "Text",
    propertySize: "Size",
    propertyWidth: "Width",
    propertyHeight: "Height",
    propertyOpacity: "Opacity",
    propertyStroke: "Stroke",
    propertyStrokeWidth: "Stroke width",
    propertyFontSize: "Font size",
    propertyRadius: "Corner radius",
    propertyArrowStyle: "Arrow style",
    defaultDiagramName: "Draft",
    defaultBoxLabel: "Service",
    defaultTextLabel: "Text",
    defaultIconLabel: "Icon",
    sampleName: "Azure API sample",
    sampleApiGateway: "API Gateway",
    sampleApiManagement: "API Management",
    sampleLogicApps: "Logic Apps",
    samplePublishInterfaces: "Publish interfaces",
    propertyName: "Name",
    propertyIconAlt: "Icon",
    propertyUseIcon: "Use icon",
    propertyUseText: "Use text",
    propertyUseBox: "Use box",
    canvasEmpty: "No elements on the canvas yet.",
    storageEmpty: "No saved diagrams yet.",
    settingsTitle: "Settings",
    settingsBody: "Storage is currently limited to local storage.",
    aboutTitle: "About",
    aboutBody: "A lightweight editor for drafting architecture diagrams.",
    itemsTitle: "Icon catalog",
    itemsBody:
      "SVG/PNG icons under public/icons appear in the palette (optional icons-sample via env).",
    footerText: "Designed with Microsoft Azure in mind.",
    languageLabel: "Language",
    loadSample: "Load sample",
    storageKeyLabel: "Storage key",
    storageSavedAt: "Saved at",
    storageActionLabel: "Actions",
    storageLoad: "Load",
    storageOverwrite: "Overwrite",
    storageNew: "Save new",
    storageDelete: "Delete",
    storageImport: "Import JSON",
    storageExport: "Export JSON",
    storageCopy: "Copy",
    storageCopied: "Copied",
    inspectorHint: "Select an element to edit it.",
    paletteHint:
      "Images under public/icons appear automatically (optional icons-sample via env).",
    paletteEmpty: "No icons found.",
    imageExportHint: "Export the canvas as PNG.",
    azureHint: "Later we will add Azure Cosmos DB storage.",
    loadExampleHint: "Load a simple starter layout.",
    noSelection: "No element selected.",
  },
} as const;

export const supportedLanguages: Array<{ code: LanguageCode; label: string }> = [
  { code: "ja", label: "日本語" },
  { code: "en", label: "English" },
];

export const defaultLanguage: LanguageCode = "ja";

export const getMessages = (language: LanguageCode) => {
  return messages[language] ?? messages[defaultLanguage];
};

export const getLanguageFromSearch = (search: string) => {
  const params = new URLSearchParams(search);
  const value = params.get("lang");
  if (value === "ja" || value === "en") {
    return value;
  }
  return defaultLanguage;
};
